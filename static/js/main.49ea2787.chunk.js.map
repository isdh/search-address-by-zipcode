{"version":3,"sources":["components/url.js","components/addressBody.js","components/addressHeader.js","components/addressData.js","components/noAddressData.js","components/Address.js","components/Zipcode.js","App.js","index.js"],"names":["fetchAddressFromURL","url","a","fetchJsonp","response","ok","Error","json","status","results","console","error","result","TableCell","props","className","address","AddressBody","id","data","map","i","address1","address2","address3","key","AddressHeaderCell","name","AddressHeader","AddressData","NoAddressData","Address","undefined","length","Zipcode","useState","code","setCode","setUrl","addresses","setAddress","useEffect","fetchData","itemType","autoFocus","maxLength","minLength","size","onChange","e","value","target","replace","zipcode","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.49ea2787.chunk.js","sourcesContent":["import fetchJsonp from \"fetch-jsonp\";\n/**\n *\n * @param {string} zipcode\n */\nexport const createURL = (zipcode) => {\n  const zipSearchURL = \"https://zipcloud.ibsnet.co.jp/api/search\";\n  return `${zipSearchURL}?zipcode=${zipcode}&limit=100`;\n};\n\nexport const fetchAddressFromURL = async (url) => {\n  try {\n    const response = await fetchJsonp(url);\n    if (!response.ok) {\n      throw new Error(response.json());\n    }\n    const json = await response.json();\n    if (json.status === 200) {\n      return json.results;\n    } else if (json.status === 400 || json.status === 500 ) {\n      console.error(json);\n      return json.result;\n    } else {\n      console.error(json);\n      return json.result;\n    }\n  } catch (e) {\n    console.error(e);\n  }\n}","import React from \"react\";\n\nfunction TableCell(props) {\n  return <th className=\"table-cell border px-4 py-2 font-normal\">{props.address}</th>;\n}\n\nfunction AddressBody(props) {\n  return (\n    <tbody id=\"address_data\">\n      {props.data.map((address, i) => {\n        const { address1, address2, address3 } = address;\n        return (\n          <tr key={i}>\n            <TableCell address={address1 + address2 + address3} />\n            <TableCell address={address1} />\n            <TableCell address={address2} />\n            <TableCell address={address3} />\n          </tr>\n        );\n      })}\n    </tbody>\n  );\n}\n\nexport default AddressBody;\n","import React from \"react\";\n\nfunction AddressHeader() {\n  return (\n    <thead>\n      <tr>\n        <AddressHeaderCell name=\"住所\" />\n        <AddressHeaderCell name=\"都道府県名\" />\n        <AddressHeaderCell name=\"市区町村名\" />\n        <AddressHeaderCell name=\"町域名\" />\n      </tr>\n    </thead>\n  );\n}\n\nfunction AddressHeaderCell(props) {\n  return <th className=\"table-cell border px-4 py-2\">{props.name}</th>;\n}\n\nexport default AddressHeader;\n","import React from 'react';\nimport AddressBody from './addressBody';\nimport AddressHeader from './addressHeader';\n\nfunction AddressData(props) {\n  return (\n    <div id=\"addressData\">\n    <table className=\"table-auto border border-black\">\n      <AddressHeader />\n      <AddressBody data={props.data}/>\n    </table>\n  </div>\n  )\n}\n\nexport default AddressData;","import React from \"react\";\n\nfunction NoAddressData() {\n  return <div id=\"nodata\">該当する住所はありません。</div>;\n}\n\nexport default NoAddressData;\n","import React from \"react\";\nimport AddressData from \"./addressData\";\nimport NoAddressData from \"./noAddressData\";\n\nfunction Address(props) {\n  return (\n    <div className='mt-10'>\n      {props.data === undefined ? (\n        <>\n        <h1>通信エラーが発生しました。</h1>\n        <h4 className='text-3xl'>住所が取得できませんでした。通信状態を確認してください。</h4>\n        </>\n      ) : props.data === null ? (\n        <>\n          <h2 className=\"text-3xl font-bold\">検索結果</h2>\n          <NoAddressData />\n        </>\n      ) : props.data.length !== 0 ? (\n        <>\n        <h2 className=\"text-3xl font-bold\">検索結果：{props.data.length}件</h2>\n        <AddressData data={props.data} />\n        </>\n      ) : (\n        <>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Address;\n","import React, {useState, useEffect} from \"react\";\nimport { createURL, fetchAddressFromURL } from \"./url\";\nimport Address from \"./Address\";\n\nfunction Zipcode() {\n  const [code, setCode] = useState('');\n  const [url, setUrl] = useState('');\n  const [addresses, setAddress] = useState([]);\n\n  const handler = (e) => {\n    /** @type string */\n    let value = e.target.value;\n    value = value.replace(/[^0-9]/g, '');\n    setCode(value);\n    // データが変わっていなければ処理しない\n    if (value === code) return;\n    if (value.length !== 7) return;\n    setCode(value);\n    const url = createURL(value);\n    setUrl(url);\n  };\n\n  useEffect(() => {\n    if (code.length !== 7) return;\n    const fetchData = async () => {\n      const addresses = await fetchAddressFromURL(url);\n      setAddress(addresses);\n    };\n    fetchData();\n  }, [code]);\n\n  return (\n    <>\n    <span className='text-xl'>\n    〒<input\n      id=\"zipcode\"\n      className=\"text-5xl text-gray-700\"\n      itemType=\"text\"\n      autoFocus\n      // placeholder=\"1230001\"\n      maxLength=\"7\"\n      minLength=\"7\"\n      size=\"8\"\n      // pattern=\"[0-9]{7}\"\n      // inputMode=\"numeric\"\n      onChange={handler}\n      value={code}\n    />\n    </span>\n    <br />\n    <Address data={addresses}/>\n    </>\n  );\n}\n\nexport default Zipcode;","import React from \"react\";\nimport \"./output.css\";\nimport Zipcode from \"./components/Zipcode\";\n\nfunction App() {\n  return (\n    <div className=\"bg-black min-h-screen flex flex-col items-center text-center justify text-white text-2xl\">\n      <header>\n        <h1 className=\"text-5xl text-red-300\">〒 郵便番号検索</h1>\n        <br />\n        <p className=\"text-2xl\">\n          郵便番号を半角数字(ハイフン無し)で入力してしてください。\n        </p>\n      </header>\n      <section>\n        <Zipcode />\n      </section>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}